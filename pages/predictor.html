<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Include this on every page -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="keywords"
            content="BPA, Webteam,Huron High School,biohome,bio-home,bio-friendly,eco-friendly,sustainable,home,house,information,predictor,price">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>
    <script src="/js/include.js"></script>
    <link href="/css/main/main.css" rel='stylesheet'>
    <link href="/css/more/more.css" rel='stylesheet'>
    <link rel='icon' href="/assets/favicon.png" type="image/png">
    <script src="https://kit.fontawesome.com/3aa210e078.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.9.1/underscore-min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.0.0/dist/tf.min.js"></script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/@tensorflow/rfjs@0.11.2"></script> -->
    <title>Housing Price Predictor</title>

    <script>
        function returnData() {
            console.log('Running model...')

            var nroom = $('#nroom').val(); // || 10;
            var sfoot = $('#sfoot').val(); //|| 1656;
            var lspace = $('#lspace').val();
            const url = `https://bpa-backend.herokuapp.com/price?rooms=${nroom}&sqft=${sfoot}&greenft=${lspace}`
            $.get(url).then((res) => {
                console.log("RECEIVED", res)
                $('.modify').text('The estimated selling price for your house is $' + res)
                $('.card').removeClass('d-none')
            }).catch(err => {
                console.log("ERROR", err)
            })

        }


        //ajax code here
    </script>

    <!-- Include this on every page -->
    <title>Housing Price Predictor</title>

</head>

<body>
    <header data-load="templates/header.html">
    </header>
    <div
        class="container-fluid predictor background-image d-flex justify-content-center align-items-center text-center">
        <div class="header-text">
            <h1 class="display-4">Housing Price Predictor</h1>
            <p class="lead">Predict the value of your home</p>
        </div>
    </div>
    <div class="container" style="padding-bottom: 300px;">
        <div class="text-center"> Photo Credit: “Peter Pichler Architecture Designs Sustainable Tree Houses in a Wild
            Forest of West Virginia.” World Architecture Community,
            https://worldarchitecture.org/article-links/eehvh/peter-pichler-architecture-designs-sustainable-tree-houses-in-a-wild-forest-of-west-virginia.html.
            Accessed 26 Jan. 2020. </div>

        <hr>
        <div class="row">
            <div class="col">
                    <h1> Home Price Calculator </h1>
                <h5> Have you ever wondered about how much your home can change in value by adding Bio-friendly features such as more green living space? Use this tool to help find out! </h2>
                <div class="card d-none mb-3">
                    <div class="card-body">
                        <h5 class="card-title">Predicted House Selling Price</h5>
                        <div class='modify d-inline'>Epic price</div>
                        <i class="fas fa-question-circle" data-toggle="tooltip" data-placement="right"
                            title="This result was generated by a neural network, and may not be 100% accurate."></i>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col">


                <form id='myForm' onsubmit="returnData();return false">
                    <div class="form-group">
                        <label for="lspace">Green Living Space, e.g. size of yard</label>
                        <input type="number" class="form-control" id="lspace" placeholder="1000 (ft^2)" required>
                    </div>


                    <div class="form-group">

                        <label for="sfoot">Square Footage (Above basement)</label>
                        <input type="number" class="form-control" id="sfoot" placeholder="2000 (ft^2)" required>
                    </div>

                    <div class="form-group">
                        <label for="nroom">Number of Rooms (Above basement)</label>
                        <input type="number" class="form-control" id="nroom" placeholder="1" required>
                    </div>


                    <!-- <button type="submit" class="btn btn-primary mt-2">Submit</button> -->

                    <button type="submit" class="btn btn-primary mt-2"> Calculate! </button>
                </form>
            </div>
        </div>

    </div>

    <footer>
        <div style="background-image: linear-gradient(rgba(0,0,0,.6), rgba(0,0,0,.6)), url('/assets/earth.jpg'); 
        background-size: cover; height: 150px; background-position: center;"
            class="d-flex flex-row align-items-center justify-content-center">
            <a class="btn btn-lg text-white" style="background: rgb(20, 7, 97)" href="/pages/finder.html"> Find Nearby
                Architects to Build Your Bio-home </a>
        </div>
        <div data-load="templates/footer.html">
        </div>
    </footer>
    <script>
            $(function () {
            $('[data-toggle="tooltip"]').tooltip({
            container: '.card-body'
            })
            })
    </script>
</body>

</html>